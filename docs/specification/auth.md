# 認証周りの仕様
本ドキュメントでは、認証周りの使用について説明します

## 基本的なフロー
1. サーバーに新しくユーザーが参加すると`Unauthorized`ロールを付与
2. Botが参加したユーザーにDMを送信、氏名、学籍番号、学科、メールアドレスについて尋ねる
3. ユーザーがDMで入力した情報と、firestore内のデータを比較
4. 氏名、学籍番号、学科、メールアドレスが全て一致するデータが存在した場合のみ認証メールを送信
5. 認証メールから認証をした状態でユーザーが`/auth`コマンドを実行することで`Unauthorized`ロールを剥奪、`Authorized`ロールを付与

## ロールについて
ロールは存在しなければ勝手に作成するようになっている

## firebaseの認証について
認証のためには、アカウントを作成する必要があり、パスワードがrequiredだったのでとりあえず便宜的に`学籍番号+学科`が設定してある
このアカウントを使用してログインすることはないと思うが、必要になったときはDMから受け取るようにするなりしてください

## /authコマンド
ユーザーがauthコマンドで認証を確認できるようにするために、DMで情報を受け取ったときにDiscordIdをfirestoreにストアしている